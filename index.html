<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <style>
        * {
            box-sizing: border-box;
        }

        #input {
            border: 2px solid #59c8f3;
            width: 100%;
            height: 300px;
            border-radius: 6px;
            padding: 10px;
            resize: none;
            outline: none;
            font-size: 22px;
        }

        #start,
        #stop,
        #reset {
            width: 20%;
            margin: 20px auto 0;
            display: block;
            background: #76c7ef;
            border: 0;
            border-radius: 4px;
            color: #fff;
            font-size: 16px;
            line-height: 40px;
            outline: none;
        }

        .btn {
            display: flex;
            justify-content: space-between;
        }
    </style>
</head>

<body>
    <textarea id="input"></textarea>
    <div class="btn">
        <button id="start" onclick="startRun()">开始</button>
        <button id="stop" onclick="stopRun()">结束</button>
        <button id="reset" onclick="resetRun()">重置</button>
    </div>
    <div id="num"></div>
    <script>
        const start = document.getElementById("start");
        const stop = document.getElementById("stop");
        let intv;
        let count = 0;
        let dataArr = [];
        const disabledColor = '#a5a5a5';
        const startRun = function () {
            let input = document.getElementById("input").value;
            const inputData = input.replace(/\,|\.|\，|\。/g, ' ');
            const formatData = inputData.split(' ');
            formatData.forEach(element => {
                if (element !== '') {
                    dataArr.push(element);
                }
            });
            if (count < 1 && input !== '') {
                intv = setInterval(() => {
                    document.getElementById("input").value = dataArr[Math.floor(Math.random() * dataArr.length)];
                }, 10);
                start.setAttribute('disabled', 'true');
                start.style.backgroundColor = disabledColor;
                count += 1;
            } else {
                alert('至少输入一个哦 ^_^')
            }
        };
        const stopRun = function () {
            if (start.getAttribute('disabled')) {
                clearInterval(intv);
                stop.setAttribute('disabled', 'true');
                stop.style.backgroundColor = disabledColor;
            } else {
                alert('至少输入一个哦 ^_^')
            }
        }
        const resetRun = function () {
            count = 0;
            document.getElementById("input").value = '';
            start.removeAttribute('disabled');
            stop.removeAttribute('disabled');
            start.style.backgroundColor = '#59c8f3';
            stop.style.backgroundColor = '#59c8f3';
            dataArr = [];
        }
    </script>
</body>

</html>
